<div class="container-fluid">
  <div class="row mb-4">
    <div class="col px-0 pb-2 border-bottom">
      <h2 class="fw-bold">掲示板リスト</h2>
      <p class="m-0">募集中のゲーム</p>
        <%= link_to "全て", servers_path, class: "badge bg-dark text-light" %>
        <% @game_names.each do | game_name | %>
          <%= link_to game_name, servers_path(game_name: game_name), class: "badge bg-dark text-light" %>
        <% end %>
    </div>
  </div>

  <% if @servers.any? %>
    <div class="row">
      <%= render @servers %>
    </div>
    <div class="row">
      <%= link_to new_server_path(game_name: params[:game_name]),class: "p-0" do %>
        <div class="btn btn-primary p-2 shadow" style="width:21rem">上記投稿以外で新たに仲間を募集する</div>
      <% end %>
    </div>
  <% else %>
    <div class="row">
      <h4 class="m-0 p-0 pb-4">現在、このゲームの募集はありません</h4>
    </div>
    <div class="row">
    <%= link_to new_server_path(game_name: params[:game_name]),class: "p-0" do %>
      <p class="btn btn-primary p-2 shadow" style="width:21rem">このゲームで新たに仲間を募集する</p>
    <% end %>
  <% end %>


  <div class="justify-content-center pt-4">
    <%= paginate @servers %>
  </div>
</div>

<script>
  const inviteButton = document.getElementById('inviteButton')
  inviteButton.addEventListener('click', (e) => {
    const url = e.target.dataset.url
    navigator.clipboard.writeText(url)
    alert('copied!')
  })
</script>
